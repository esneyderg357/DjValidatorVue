import{isReactive as e,toRaw as r,isRef as t,createElementBlock as n,createCommentVNode as i,openBlock as a,toDisplayString as l}from"vue";import{isArray as f}from"chart.js/helpers";let s={required:"Required field.",word_min:"At least $1 characters with no spaces.",word_between:"Between $1 and $2 characters with no spaces.",atext_min:"At least $1 alphabetic characters.",atext_between:"Between $1 and $2 alphabetic characters.",antext_min:"At least $1 alphabetic characters or digits.",antext_between:"Between $1 and $2 alphabetic characters or digits.",text_min:"At least $1 characters.",text_between:"Between $1 and $2 characters.",int_invalid:"Invalid integer.",int_min:"The number must be greater than or equal to $1.",int_max:"The number must be less than or equal to $1",int_between:"The number must be between $1 and $2.",num_invalid:"Invalid real number.",num_min:"The number must be greater than or equal to $1.",num_max:"The number must be less than or equal to $1",num_between:"The number must be between $1 and $2.",dig_min:"At least $1 digits.",dig_between:"Between $1 and $2 digits.",file_min:"Select at least $1 files.",file_between:"Select between $1 and $2 files.",file_format:"Invalid file type.",file_min_size:"Files must be larger than $1 kb in size.",file_max_size:"Files must be less than $1 kb. in size",email:"Invalid email.",email_max:"Email must be less than $1 characters.",phone:"Invalid phone number.",url:"Invalid url.",url_max:"URL must be less than $1 characters",ip:"Invalid $1 address",array_min:"Select at least $1 options",array_between:"Select from $1 to $2 options.",and:"This field and $1 are required.",or:"This field or $1 is required.",equal:"Must be equal to: $1.",not_equal:"Must be different from: $1.",regexp:"Invalid value.",call:"Invalid value."};var u=[{key:"word",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if("*"==t[2]){if(!new RegExp("^\\S{"+t[1]+",}$").test(a))return i||(i=s.word_min),n[e]=i.replace("$1",t[1]),!1}else if(!new RegExp("^\\S{"+t[1]+","+t[2]+"}$").test(a))return i||(i=s.word_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"atext",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if("*"==t[2]){if(!new RegExp("^[a-záéíóúñçü ]{"+t[1]+",}$","i").test(a))return i||(i=s.atext_min),n[e]=i.replace("$1",t[1]),!1}else if(!new RegExp("^[a-záéíóúñçü ]{"+t[1]+","+t[2]+"}$","i").test(a))return i||(i=s.atext_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"antext",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if("*"==t[2]){if(!new RegExp("^[a-z0-9áéíóúñçü ]{"+t[1]+",}$","i").test(a))return i||(i=s.antext_min),n[e]=i.replace("$1",t[1]),!1}else if(!new RegExp("^[a-z0-9áéíóúñçü ]{"+t[1]+","+t[2]+"}$","i").test(a))return i||(i=s.antext_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"text",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if("*"==t[2]){if(a.length<t[1])return i||(i=s.text_min),n[e]=i.replace("$1",t[1]),!1}else if(a.length<t[1]||a.length>t[2])return i||(i=s.text_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"int",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if(!/^[+-]?\d+$/.test(a))return i||(i=s.int_invalid),n[e]=i,!1;if("*"==t[1]){if("*"==t[2])return!0;if(parseInt(a)>t[2])return i||(i=s.int_max),n[e]=i.replace("$1",t[2]),!1}else if("*"==t[2]){if(parseInt(a)<t[1])return i||(i=s.int_min),n[e]=i.replace("$1",t[1]),!1}else if(parseInt(a)<t[1]||parseInt(a)>t[2])return i||(i=s.int_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"num",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if(isNaN(a))return i||(i=s.num_invalid),n[e]=i,!1;if("*"==t[1]){if("*"==t[2])return!0;if(parseFloat(a)>t[2])return i||(i=s.num_max),n[e]=i.replace("$1",t[2]),!1}else if("*"==t[2]){if(parseFloat(a)<t[1])return i||(i=s.num_min),n[e]=i.replace("$1",t[1]),!1}else if(parseFloat(a)<t[1]||parseFloat(a)>t[2])return i||(i=s.num_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"dig",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if("*"==t[2]){if(!new RegExp("^\\d{"+t[1]+",}$").test(a))return i||(i=s.dig_min),n[e]=i.replace("$1",t[1]),!1}else if(!new RegExp("^\\d{"+t[1]+","+t[2]+"}$").test(a))return i||(i=s.dig_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"file",func:function(e,r,t,n,i){if(!File)return console.error("The 'file' validator requires javascript file api, the field  '"+e+"' was ignored."),!0;if(t.length<5)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=[];if(r[e]instanceof File)a[0]=r[e];else if(r[e]instanceof FileList)a=Array.from(r[e]);else{if(!Array.isArray(r[e]))throw new Error("Error validating field '"+e+"', file validator value only supports File,FileList or Array<File>");a=r[e]}if("*"==t[2]){if(a.length<t[1])return i||(i=s.file_min),n[e]=i.replace("$1",t[1]),!1}else if(a.length<t[1]||a.length>t[2])return i||(i=s.file_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;if(t[5]){let r=t[5].split("|"),l=0==r.length;for(let e=0;e<a.length;e++){l=!1;for(let t=0;t<r.length;t++)a[e].type==r[t]&&(l=!0);if(!l)break}if(0==l)return i||(i=s.file_format),n[e]=i,!1;for(let r=0;r<a.length;r++){if("*"!=t[3]&&a[r].size/1024<t[3])return i||(i=s.file_min_size),n[e]=i.replace("$1",t[3]),!1;if("*"!=t[4]&&a[r].size/1024>t[4])return i||(i=s.file_max_size),n[e]=i.replace("$1",t[4]),!1}return!0}}},{key:"email",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];return/^([a-z0-9_.-])+@(([a-z0-9-])+.)+([a-z0-9])+$/i.test(a)?!("*"!=t[1]&&a.length>t[1])||(i||(i=s.email_max),n[e]=i.replace("$1",t[1]),!1):(n[e]=i||s.email,!1)}},{key:"phone",func:function(e,r,t,n,i){let a=r[e];return!!/^\+?\d[\d\s\-]{6,14}\d$/.test(a)||(n[e]=i||s.phone,!1)}},{key:"url",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];return/^(https?|s?ftp)\:\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?$/.test(a)?!("*"!=t[1]&&a.length>t[1])||(i||(i=s.url_max),n[e]=i.replace("$1",t[1]),!1):(n[e]=i||s.url,!1)}},{key:"ip",func:function(e,r,t,n,i){let a=r[e],l=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,f=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])$/;if(t[1])if("v6"==t[1]){if(!l.test(a))return i||(i=s.ip),n[e]=i.replace("$1","IPv6"),!1}else{if("v4"!=t[1])throw new Error("Error validating field '"+e+"', invalid ip type parameter.");if(!f.test(a))return i||(i=s.ip),n[e]=i.replace("$1","IPv4"),!1}else if(!l.test(a)&&!f.test(a))return i||(i=s.ip),n[e]=i.replace("$1","IP"),!1;return!0}},{key:"array",func:function(e,r,t,n,i){if(t.length<3)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if(!Array.isArray(a))throw new Error("Error validating field '"+e+"', the value is not Array");if("*"==t[2]){if(a.length<parseInt(t[1]))return i||(i=s.array_min),n[e]=i.replace("$1",t[1]),!1}else if(a.length<parseInt(t[1])||a.length>parseInt(t[2]))return i||(i=s.array_between),n[e]=i.replace("$1",t[1]).replace("$2",t[2]),!1;return!0}},{key:"and",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e],l=!0;if(null==a||""==a||/^\s+$/.test(a))l=!1;else{let e=r[t[1]];(null==e||""==e||/^\s+$/.test(e))&&(l=!1)}return 0==l&&(i||(i=s.and),n[e]=i.replace("$1",t[1])),l},ref:!0},{key:"or",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];if(null!=a&&""!=a&&!/^\s+$/.test(a))return!0;{let e=r[t[1]];if(null!=e&&""!=e&&!/^\s+$/.test(e))return!0}return i||(i=s.or),n[e]=i.replace("$1",t[1]),!1},ref:!0},{key:"equal",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");return r[e]==r[t[1]]||(i||(i=s.equal),n[e]=i.replace("$1",t[1]),!1)}},{key:"nequal",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");return r[e]!=r[t[1]]||(i||(i=s.not_equal),n[e]=i.replace("$1",t[1]),!1)}},{key:"regexp",func:function(e,r,t,n,i){if(t.length<2)throw new Error("Error validating field '"+e+"', insufficient parameters.");let a=r[e];return t[1]=t[1].replace("°",","),!!(t[2]?new RegExp(t[1],t[2]):new RegExp(t[1])).test(a)||(n[e]=i||s.regexp,!1)}},{key:"call",func:function(e,r,t,n,i,a){if("function"!=typeof a)throw new Error("Error validating field '"+e+"', '"+t[1]+"' is not a function.");let l=a(r[e],t);return 0==l&&(n[e]=i||s.call),l}}];function o(t,n,i){if(t&&e(t)&&(t=r(t)),null!==t&&"object"!=typeof t&&!Array.isArray(t))throw new Error("Model is not object");p(i);let a=!0;for(const[e,r]of Object.entries(t)){let r=n[e];if(null!=r){f(r)||(r=[r]);for(const n of r){let r=d(e,t,n,i);if(a=(1==r||0!=r)&&a,0==r)break}}}return a}function c(e,r,n){t(n)?n.value=null:n=null;let i=[],a=d("tmp",{tmp:e},r,i);return 0==a&&(t(n)?n.value=i.tmp:n=i.tmp),a}function d(t,n,i,a){n&&e(n)&&(n=r(n)),delete a[t];let l=function(e,r,t){return Array.isArray(r)&&0==r.length?(t[e]=s.required,!1):null!=r&&""!=r&&!/^\s+$/.test(r)||(t[e]=s.required,!1)}(t,n[t],a);if(i.rule){let e=i.rule.split(","),r=u.find(r=>r.key==e[0]);if(!r)throw new Error("'"+e[0]+"' is not a valid DjValidator key.");if(r.ref&&1==r.ref)delete a[t];else if(0==l)return(!i.req||1!=i.req)&&(delete a[t],!0);return"call"==r.key?r.func(t,n,e,a,i.msg,i.func):r.func(t,n,e,a,i.msg)}return 0!=l||(!i.req||1!=i.req)&&(delete a[t],!0)}function p(e){for(const r in e)delete e[r]}function m(e,r,t){u.push({key:e,func:(e,n,i,a,l)=>{if(0==r(e,n,i,a,l))return a[e]=l||t,!1}})}function h(e){Object.assign(s,e)}const $={key:0,class:"dj-validator-msg"};var w={__name:"DjError",props:["error"],setup(e){const r=e;return(e,t)=>r.error?(a(),n("p",$,l(r.error),1)):i("v-if",!0)}};!function(e,r){void 0===r&&(r={});var t=r.insertAt;if("undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".dj-validator-msg[data-v-60899ed2]{color:var(--dj-validator-error-color,red);font-size:.8rem;font-style:italic;font-weight:700;margin-bottom:0;margin-top:0;text-align:inherit}"),w.__scopeId="data-v-60899ed2",w.__file="components/DjError.vue";export{w as DjError,m as add_validator,p as clear_errors,h as set_messages,o as validate,d as validate_field,c as validate_var};
